<Window x:Class="FlashView2.LasMenuForm"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"        
        xmlns:local="clr-namespace:FlashView2"         
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        mc:Ignorable="d"
        Title="Задание временного интервала, сдвига и корректировки" 
        Height="780" Width="870" 
        WindowStartupLocation="CenterScreen" ResizeMode="NoResize">
    <Window.Resources>
        <Style x:Key="CenterGridHeaderStyle" TargetType="DataGridColumnHeader">
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
        </Style>
    </Window.Resources>
    <!--<TabControl Name="tabCtrlLas">
        <TabItem Name="filesTab">
            <TabItem.Header>
                <TextBox Text="Работа с файлами" />
            </TabItem.Header>
            <TabItem.Content>
                <TextBlock Text="asdas"/>
            </TabItem.Content>
        </TabItem>
    </TabControl>-->
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="278"/>
            <RowDefinition Height="176"/>
            <RowDefinition Height="236"/>
            <RowDefinition Height="50"/>
        </Grid.RowDefinitions>
        <StackPanel Grid.Row="0" Grid.Column="0">
            <Button x:Name="btn_LoadDepthAndTime" Content="Открыть файл с глубиной" Click="btn_LoadDepthAndTime_Click" Height="30" Margin="10,15,10,10"/>
            <GroupBox Header="Считать данные" Padding="5" Width="230" Height="200" HorizontalAlignment="Center" VerticalAlignment="Center">
                <StackPanel Height="170">
                    <RadioButton Margin="3" IsChecked="True">В интервале определения</RadioButton>
                    <RadioButton Margin="3" IsChecked="{Binding IsSetInterval, Mode=OneWayToSource}">В задаваемом интервале</RadioButton>
                    <GroupBox Header="Задать время">
                        <StackPanel>
                            <Label>с</Label>
                            <xctk:DateTimePicker Name="dtp1" Value="{Binding StartTimeRead, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" FormatString="HH:mm:ss dd.MM.yyyy" Format="Custom"/>
                            <Label>по</Label>
                            <xctk:DateTimePicker Name="dtp2" Value="{Binding EndTimeRead, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" FormatString="HH:mm:ss dd.MM.yyyy" Format="Custom" />
                        </StackPanel>
                    </GroupBox>
                </StackPanel>
            </GroupBox>
        </StackPanel>
        <StackPanel Grid.Row="2">
            <Label Margin="15,0,0,0" Width="150" HorizontalAlignment="Left">Труба для МНК</Label>
            <ComboBox Name="lb1_truba" Grid.Row="1" Grid.Column="0" Height="25" Width="100" HorizontalAlignment="Left" Margin="15,0,0,0" SelectedIndex="0">
                <TextBlock>108</TextBlock>
                <TextBlock>120</TextBlock>
                <TextBlock>178</TextBlock>
            </ComboBox>
            <GroupBox Header="Расчет Кп" Margin="15,15,0,0" Padding="5" Width="220" HorizontalAlignment="Left">
                <StackPanel>
                    <RadioButton IsChecked="{Binding isLineCalc, Mode=TwoWay}" Name="rb1_Lin" Margin="5">По линейной зависимости</RadioButton>
                    <RadioButton Name="rb2_Kvad" Margin="5">По квадратичной зависимости</RadioButton>
                </StackPanel>
            </GroupBox>
            <Button Name="btn_FormLas" Click="Button_FormLasClick" Content="Сформировать LAS" Margin="15" Width="200" Height="40" HorizontalAlignment="Left" IsEnabled="False"/>
        </StackPanel>
        <GroupBox Grid.Column="0" Grid.Row="1" Height="140" Width="230" Margin="10,10,0,0" HorizontalAlignment="Left" VerticalAlignment="Top" Header="Сдвигать время">
            <!--<GroupBox.Header>-->
                <!--<CheckBox Name="checkBox1Sdvig" Content="Сдигать время" Margin="15" IsChecked="{Binding IsMoveTime, Mode=OneWayToSource}"/>-->               
            <!--</GroupBox.Header>-->
            <StackPanel>
                <RadioButton Name="rb1_Sdvig" Margin="5" Content="Вперед" IsChecked="{Binding IsMoveTimeUp, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                <RadioButton Name="rb2_Sdvig" Margin="5" Content="Назад"/>
                <xctk:TimePicker Format="LongTime" Width="100" HorizontalAlignment="Left" Margin="5" Text="{Binding ShiftTime, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"></xctk:TimePicker>
                <Button Name="btnUseShiftTime" Content="Применить" Margin="5" Height="28" Click="btnUseShiftTime_Click" IsEnabled="{Binding IsMoveTime, UpdateSourceTrigger=PropertyChanged}"/>
            </StackPanel>
        </GroupBox>
        <StackPanel Grid.Row="0" Grid.Column="1" Grid.RowSpan="3">            
            <DataGrid x:Name="dtg_DepthAndTime" ColumnHeaderStyle="{StaticResource CenterGridHeaderStyle}" 
                      HorizontalContentAlignment="Center" Margin="10,15,10,10" ItemsSource="{Binding DataTable, UpdateSourceTrigger=PropertyChanged}" 
                      AutoGeneratingColumn="r2_AutoGeneratingColumn" Height="640" >
            </DataGrid>
        </StackPanel>
        <DockPanel Grid.Row="3" Grid.ColumnSpan="3">
            <StatusBar DockPanel.Dock="Bottom">
                <StatusBar.ItemsPanel>
                    <ItemsPanelTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="110" />
                            </Grid.ColumnDefinitions>
                        </Grid>
                    </ItemsPanelTemplate>
                </StatusBar.ItemsPanel>
                <StatusBarItem Margin="5">
                    <TextBox Name="txtBoxStatusLas" Text="{Binding StatusLasMenu, UpdateSourceTrigger=PropertyChanged}" Width="738" Height="33"
                               TextWrapping="Wrap" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" />
                </StatusBarItem>
                <Separator Grid.Column="1" />
                <StatusBarItem Grid.Column="2">
                    <ProgressBar Value="0" Width="90" Height="20" />
                </StatusBarItem>
            </StatusBar>
        </DockPanel>
    </Grid>
</Window>
